# ğŸ‰ ShoutingWall 2 ğŸ‰<br/>åŸºäºéå®˜æ–¹QQæœºå™¨äººçš„æ ¡å›­å¢™åŠŸèƒ½å®ç°

ã€ŒShoutingWallã€æ˜¯ä¸€ä¸ªåŸºäºNapCatå®ç°çš„QQæœºå™¨äººï¼Œå¯ä»¥å®ç°â€œæ ¡å›­è¡¨ç™½å¢™â€çš„åŠŸèƒ½ã€‚<br/>
è¿™æ˜¯å®ƒçš„å®ç°æ¶æ„ï¼š
````
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  |  ç”¨æˆ·       |
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
        â–²
  å›å¤æ¶ˆæ¯|
        |å‘é€æŒ‡ä»¤
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     WebSocket:3001 (è·å–å¥½å‹åˆ—è¡¨)    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚           |
â”‚  NapCatæœåŠ¡      â”‚â”€â”€â”€â”€â”€WebSocket:3010 (ç›‘å¬æ¶ˆæ¯)â”€â”€â”€â”€â”€â”€>â”‚  User.js  |
â”‚                 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ å¤„ç†ç”¨æˆ·æ¶ˆæ¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     WebSocket:3011 (å‘é€æ¶ˆæ¯)       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                           | å¤„ç†ç”¨æˆ·ä¿¡æ¯
                                                           |
                                                           â–¼
                                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                      â”‚ Utils.jsâ”‚
                                                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                                           â”‚ å›¾ç‰‡ä¸ŠæœåŠ¡å™¨
                                                           â–¼
                                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   å›¾ç‰‡è·¯å¾„
                                                      â”‚server.jsâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                                                                            â”‚
                                                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚                                                  â”‚  æœ¬åœ°æœåŠ¡å™¨   â”‚
â”‚   server.py     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  å›¾ç‰‡å­˜å‚¨     â”‚
â”‚                 â”‚        è®¿é—®å›¾ç‰‡                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ å‘è¯´è¯´
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     post.py     â”‚â”€â”€â”€â”€â”€â”€>â”‚uploadImage.py â”‚        â”‚  QZoneæ¥å£     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     |   â–²                      â”‚                         â–²
     |   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         |
     |          ä¿¡æ¯å›ä¼                                     |
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                å‘é€åŠ¨æ€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
â”‚  heartbeat.py   â”‚â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ å¿ƒè·³æœºåˆ¶
        â–²                â”‚ ä¿æŒQQç©ºé—´ç™»å½•
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

## ä½¿ç”¨æ–¹æ³•

### å‰æœŸè®¾ç½®
> [!NOTE]
> ä»¥ä¸‹æ“ä½œé»˜è®¤ç¯å¢ƒä¸ºDebian.
1. é…ç½®NapCatç¯å¢ƒï¼Œè¯¦æƒ…è¯·çœ‹[NapCatç¯å¢ƒé…ç½®](https://github.com/daniuge233/ShoutingWall-2/blob/main/docs/NapCat.md)
2. å®‰è£…[Node.JS](http://nodejs.org/)å’Œ[Python](http://python.org)
3. å®‰è£…ç¯å¢ƒï¼š
````bash
sudo npm install express json puppeteer uuid ws
````
4. æ‰“å¼€<code>/server/server.js</code>, ç¼–è¾‘<code>websocketURL</code>å’Œ<code>token</code>, å°†å®ƒä»¬åˆ†åˆ«è®¾ç½®ä¸ºæ‚¨NapCat WebSocketæœåŠ¡å™¨çš„åœ°å€(ws://xxxxxxxx)å’ŒNapCatæœåŠ¡å™¨è®¾ç½®çš„Token.
5. æ‰“å¼€<code>/QZoneAPI/server.py</code>, ç¼–è¾‘<code>cookie</code>å’Œ<code>uin</code>, å°†å®ƒä»¬åˆ†åˆ«è®¾ç½®ä¸ºæ‚¨QQç©ºé—´ç™»é™†çš„Cookieå’Œæ‚¨çš„QQå·ã€‚Cookieå¯åœ¨ç™»å½•ç½‘é¡µç‰ˆQQç©ºé—´åæŸ¥çœ‹ç½‘é¡µæ§åˆ¶å°è·å–ã€‚
6. è¿”å›æ ¹ç›®å½•, å…ˆåè¿è¡Œï¼š
````bash
sudo node ./server/server.js
sudo python QZoneAPI/server.py
````
7. å‘æ‚¨çš„NapCatæœåŠ¡ç™»å½•çš„è´¦å·å‘é€"ä½¿ç”¨æ–¹æ³•"å³å¯è·å–æœºå™¨äººçš„ä½¿ç”¨æ–¹æ³•ã€‚
